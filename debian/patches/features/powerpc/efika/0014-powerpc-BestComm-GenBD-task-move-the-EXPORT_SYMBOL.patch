From 8bace2b96a070378af244f7c6ec585a2e83ee2e4 Mon Sep 17 00:00:00 2001
From: Sylvain Munaut <tnt@246tNt.com>
Date: Sun, 13 May 2007 14:17:13 +0200
Subject: [PATCH 14/21] powerpc: BestComm GenBD task, move the EXPORT_SYMBOL and use the _GPL version

Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
---
 arch/powerpc/sysdev/bestcomm/gen_bd.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

diff --git a/arch/powerpc/sysdev/bestcomm/gen_bd.c b/arch/powerpc/sysdev/bestcomm/gen_bd.c
index b221bbc..7e88681 100644
--- a/arch/powerpc/sysdev/bestcomm/gen_bd.c
+++ b/arch/powerpc/sysdev/bestcomm/gen_bd.c
@@ -112,6 +112,7 @@ bcom_gen_bd_rx_init(int queue_len, phys_addr_t fifo,
 
 	return tsk;
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_rx_init);
 
 int
 bcom_gen_bd_rx_reset(struct bcom_task *tsk)
@@ -158,6 +159,7 @@ bcom_gen_bd_rx_reset(struct bcom_task *tsk)
 
 	return 0;
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_rx_reset);
 
 void
 bcom_gen_bd_rx_release(struct bcom_task *tsk)
@@ -165,6 +167,7 @@ bcom_gen_bd_rx_release(struct bcom_task *tsk)
 	/* Nothing special for the GenBD tasks */
 	bcom_task_release(tsk);
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_rx_release);
 
 
 extern struct bcom_task *
@@ -193,6 +196,7 @@ bcom_gen_bd_tx_init(int queue_len, phys_addr_t fifo,
 
 	return tsk;
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_tx_init);
 
 int
 bcom_gen_bd_tx_reset(struct bcom_task *tsk)
@@ -239,6 +243,7 @@ bcom_gen_bd_tx_reset(struct bcom_task *tsk)
 
 	return 0;
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_tx_reset);
 
 void
 bcom_gen_bd_tx_release(struct bcom_task *tsk)
@@ -246,15 +251,9 @@ bcom_gen_bd_tx_release(struct bcom_task *tsk)
 	/* Nothing special for the GenBD tasks */
 	bcom_task_release(tsk);
 }
+EXPORT_SYMBOL_GPL(bcom_gen_bd_tx_release);
 
 
-EXPORT_SYMBOL(bcom_gen_bd_rx_init);
-EXPORT_SYMBOL(bcom_gen_bd_rx_reset);
-EXPORT_SYMBOL(bcom_gen_bd_rx_release);
-EXPORT_SYMBOL(bcom_gen_bd_tx_init);
-EXPORT_SYMBOL(bcom_gen_bd_tx_reset);
-EXPORT_SYMBOL(bcom_gen_bd_tx_release);
-
 MODULE_DESCRIPTION("BestComm General Buffer Descriptor tasks driver");
 MODULE_AUTHOR("Jeff Gibbons <jeff.gibbons@appspec.com>");
 MODULE_LICENSE("GPL v2");
-- 
1.5.1.2

