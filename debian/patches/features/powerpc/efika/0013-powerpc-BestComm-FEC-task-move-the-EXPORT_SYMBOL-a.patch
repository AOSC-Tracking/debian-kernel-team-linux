From 6dc1bf90fb21b9f3649e69efebe798bca43d92cf Mon Sep 17 00:00:00 2001
From: Sylvain Munaut <tnt@246tNt.com>
Date: Sun, 13 May 2007 14:16:50 +0200
Subject: [PATCH 13/21] powerpc: BestComm FEC task, move the EXPORT_SYMBOL and use the _GPL version

Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
---
 arch/powerpc/sysdev/bestcomm/fec.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

diff --git a/arch/powerpc/sysdev/bestcomm/fec.c b/arch/powerpc/sysdev/bestcomm/fec.c
index 56ff560..43f9551 100644
--- a/arch/powerpc/sysdev/bestcomm/fec.c
+++ b/arch/powerpc/sysdev/bestcomm/fec.c
@@ -105,6 +105,7 @@ bcom_fec_rx_init(int queue_len, phys_addr_t fifo, int maxbufsize)
 
 	return tsk;
 }
+EXPORT_SYMBOL_GPL(bcom_fec_rx_init);
 
 int
 bcom_fec_rx_reset(struct bcom_task *tsk)
@@ -151,6 +152,7 @@ bcom_fec_rx_reset(struct bcom_task *tsk)
 
 	return 0;
 }
+EXPORT_SYMBOL_GPL(bcom_fec_rx_reset);
 
 void
 bcom_fec_rx_release(struct bcom_task *tsk)
@@ -158,6 +160,7 @@ bcom_fec_rx_release(struct bcom_task *tsk)
 	/* Nothing special for the FEC tasks */
 	bcom_task_release(tsk);
 }
+EXPORT_SYMBOL_GPL(bcom_fec_rx_release);
 
 
 
@@ -203,6 +206,7 @@ bcom_fec_tx_init(int queue_len, phys_addr_t fifo)
 
 	return tsk;
 }
+EXPORT_SYMBOL_GPL(bcom_fec_tx_init);
 
 int
 bcom_fec_tx_reset(struct bcom_task *tsk)
@@ -249,6 +253,7 @@ bcom_fec_tx_reset(struct bcom_task *tsk)
 
 	return 0;
 }
+EXPORT_SYMBOL_GPL(bcom_fec_tx_reset);
 
 void
 bcom_fec_tx_release(struct bcom_task *tsk)
@@ -256,15 +261,9 @@ bcom_fec_tx_release(struct bcom_task *tsk)
 	/* Nothing special for the FEC tasks */
 	bcom_task_release(tsk);
 }
+EXPORT_SYMBOL_GPL(bcom_fec_tx_release);
 
 
-EXPORT_SYMBOL(bcom_fec_rx_init);
-EXPORT_SYMBOL(bcom_fec_rx_reset);
-EXPORT_SYMBOL(bcom_fec_rx_release);
-EXPORT_SYMBOL(bcom_fec_tx_init);
-EXPORT_SYMBOL(bcom_fec_tx_reset);
-EXPORT_SYMBOL(bcom_fec_tx_release);
-
 MODULE_DESCRIPTION("BestComm FEC tasks driver");
 MODULE_AUTHOR("Dale Farnsworth <dfarnsworth@mvista.com>");
 MODULE_LICENSE("GPL v2");
-- 
1.5.1.2

