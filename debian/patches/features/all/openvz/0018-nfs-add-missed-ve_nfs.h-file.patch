From 2a083801fe1655bf9e403469c494b83a72186f56 Mon Sep 17 00:00:00 2001
From: Denis Lunev <den@openvz.org>
Date: Wed, 10 Sep 2008 12:02:33 +0400
Subject: [PATCH] nfs: add missed ve_nfs.h file

Lost when committing 66ec7f7f493fb98e8baa6591e9225086ae640fb8

Signed-off-by: Denis Lunev <den@openvz.org>
Signed-off-by: Pavel Emelyanov <xemul@openvz.org>
---
 include/linux/ve_nfs.h |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)
 create mode 100644 include/linux/ve_nfs.h

diff --git a/include/linux/ve_nfs.h b/include/linux/ve_nfs.h
new file mode 100644
index 0000000..4ed5105
--- /dev/null
+++ b/include/linux/ve_nfs.h
@@ -0,0 +1,30 @@
+/*
+ * linux/include/ve_nfs.h
+ *
+ * VE context for NFS
+ *
+ * Copyright (C) 2007 SWsoft
+ */
+
+#ifndef __VE_NFS_H__
+#define __VE_NFS_H__
+
+#ifdef CONFIG_VE
+
+#include <linux/ve.h>
+
+#define NFS_CTX_FIELD(arg)  (get_exec_env()->_##arg)
+
+#else /* CONFIG_VE */
+
+#define NFS_CTX_FIELD(arg)	_##arg
+
+#endif /* CONFIG_VE */
+
+#define nlmsvc_grace_period	NFS_CTX_FIELD(nlmsvc_grace_period)
+#define nlmsvc_timeout		NFS_CTX_FIELD(nlmsvc_timeout)
+#define nlmsvc_users		NFS_CTX_FIELD(nlmsvc_users)
+#define nlmsvc_task		NFS_CTX_FIELD(nlmsvc_task)
+#define nlmsvc_serv		NFS_CTX_FIELD(nlmsvc_serv)
+
+#endif
-- 
1.6.0.6

