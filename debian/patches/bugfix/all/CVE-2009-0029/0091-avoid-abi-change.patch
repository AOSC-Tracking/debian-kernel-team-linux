diff -urpN a/fs/read_write.c b/fs/read_write.c
--- a/fs/read_write.c	2009-02-03 23:17:08.000000000 -0700
+++ b/fs/read_write.c	2009-02-04 21:31:42.000000000 -0700
@@ -339,7 +339,12 @@ static inline void file_pos_write(struct
 	file->f_pos = pos;
 }
 
+/*asmlinkage ssize_t sys_read(unsigned int fd, char __user * buf, size_t count)*/
+#ifndef __GENKSYMS__
 SYSCALL_DEFINE3(read, unsigned int, fd, char __user *, buf, size_t, count)
+#else
+asmlinkage ssize_t sys_read(unsigned int fd, char __user * buf, size_t count)
+#endif
 {
 	struct file *file;
 	ssize_t ret = -EBADF;
diff -urpN a/include/linux/syscalls.h b/include/linux/syscalls.h
--- a/include/linux/syscalls.h	2009-02-04 21:33:34.000000000 -0700
+++ b/include/linux/syscalls.h	2009-02-04 21:53:44.000000000 -0700
@@ -439,7 +439,11 @@ asmlinkage long sys_lseek(unsigned int f
 asmlinkage long sys_llseek(unsigned int fd, unsigned long offset_high,
 			unsigned long offset_low, loff_t __user *result,
 			unsigned int origin);
+#ifndef __GENKSYMS__
 asmlinkage long sys_read(unsigned int fd, char __user *buf, size_t count);
+#else
+asmlinkage ssize_t sys_read(unsigned int fd, char __user *buf, size_t count);
+#endif
 asmlinkage long sys_readahead(int fd, loff_t offset, size_t count);
 asmlinkage long sys_readv(unsigned long fd,
 			  const struct iovec __user *vec,
