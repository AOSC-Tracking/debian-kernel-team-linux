From: Ralf Baechle <ralf@linux-mips.org>
Date: Mon, 23 Feb 2009 15:52:58 +0000 (+0000)
Subject: MIPS: Wire up o32 syscall to the right function.
X-Git-Tag: linux-2.6.29-rc6~1
X-Git-Url: http://www.linux-mips.org/git?p=linux.git;a=commitdiff_plain;h=962d49e91781f7904b134d3bac700d516315764a

MIPS: Wire up o32 syscall to the right function.

Reported-by: David Daney <ddaney@caviumnetworks.com>
Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
---

Adjusted to apply to Debian's 2.6.18 by dann frazier <dannf@debian.org>

diff -urpN a/arch/mips/kernel/scall64-o32.S b/arch/mips/kernel/scall64-o32.S
--- a/arch/mips/kernel/scall64-o32.S	2009-03-01 21:21:31.000000000 -0700
+++ b/arch/mips/kernel/scall64-o32.S	2009-03-01 21:30:07.000000000 -0700
@@ -320,7 +320,7 @@ sys_call_table:
 	PTR	compat_sys_wait4
 	PTR	sys_swapoff			/* 4115 */
 	PTR	sys32_sysinfo
-	PTR	sys32_ipc
+	PTR	sys_32_ipc
 	PTR	sys_fsync
 	PTR	sys32_sigreturn
 	PTR	sys32_clone			/* 4120 */
