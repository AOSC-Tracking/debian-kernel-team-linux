diff -urpN linux-source-2.6.18.orig/fs/pipe.c linux-source-2.6.18/fs/pipe.c
--- linux-source-2.6.18.orig/fs/pipe.c	2009-01-25 21:05:36.000000000 -0700
+++ linux-source-2.6.18/fs/pipe.c	2009-01-26 08:51:59.000000000 -0700
@@ -16,6 +16,7 @@
 #include <linux/uio.h>
 #include <linux/highmem.h>
 #include <linux/pagemap.h>
+#include <linux/syscalls.h>
 
 #include <asm/uaccess.h>
 #include <asm/ioctls.h>
